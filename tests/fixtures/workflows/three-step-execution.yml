name: three-step-execution
'on':
  workflow_dispatch:
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - id: step1
        name: Execute Step 1
        uses: anthropics/claude-pipeline-action@v1
        with:
          prompt: "Execute step 1 script"
          run: "./tests/fixtures/scripts/claude-step1.sh"
          output_session: true
          
      - id: step2
        name: Execute Step 2
        uses: anthropics/claude-pipeline-action@v1
        with:
          prompt: "Execute step 2 script"
          run: "./tests/fixtures/scripts/claude-step2.sh"
          resume_session: step1
          
      - id: step3
        name: Execute Step 3
        uses: anthropics/claude-pipeline-action@v1
        with:
          prompt: "Execute step 3 script"
          run: "./tests/fixtures/scripts/claude-step3.sh"
          resume_session: step2